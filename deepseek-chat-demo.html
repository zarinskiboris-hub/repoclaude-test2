<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeepSeek AI Chat Demo Updated in github</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1e3a8a 0%, #312e81 100%);
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .chat-container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            width: 100%;
            max-width: 800px;
            height: 90vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header h1 {
            font-size: 1.5em;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .status {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
        }

        .status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: #10b981;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .messages {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
            background: #f9fafb;
        }

        .message {
            margin-bottom: 20px;
            display: flex;
            gap: 12px;
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.user {
            flex-direction: row-reverse;
        }

        .avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            color: white;
            flex-shrink: 0;
        }

        .message.user .avatar {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
        }

        .message.assistant .avatar {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        }

        .message-content {
            max-width: 70%;
            padding: 12px 16px;
            border-radius: 12px;
            line-height: 1.5;
        }

        .message.user .message-content {
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border-bottom-right-radius: 4px;
        }

        .message.assistant .message-content {
            background: white;
            color: #333;
            border: 1px solid #e5e7eb;
            border-bottom-left-radius: 4px;
        }

        .input-area {
            padding: 20px;
            background: white;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 12px;
        }

        .input-area input {
            flex: 1;
            padding: 12px 16px;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            font-size: 1em;
            outline: none;
            transition: border-color 0.3s;
        }

        .input-area input:focus {
            border-color: #8b5cf6;
        }

        .input-area button {
            padding: 12px 24px;
            background: linear-gradient(135deg, #6366f1 0%, #8b5cf6 100%);
            color: white;
            border: none;
            border-radius: 12px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .input-area button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.4);
        }

        .input-area button:active {
            transform: translateY(0);
        }

        .input-area button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .typing-indicator {
            display: flex;
            gap: 4px;
            padding: 12px 16px;
        }

        .typing-indicator span {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #8b5cf6;
            animation: typing 1.4s infinite;
        }

        .typing-indicator span:nth-child(2) {
            animation-delay: 0.2s;
        }

        .typing-indicator span:nth-child(3) {
            animation-delay: 0.4s;
        }

        @keyframes typing {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }

        .error-message {
            background: #fee2e2;
            color: #991b1b;
            padding: 12px;
            border-radius: 8px;
            margin-top: 10px;
            border-left: 4px solid #dc2626;
        }

        @media (max-width: 768px) {
            .chat-container {
                height: 100vh;
                border-radius: 0;
            }

            .message-content {
                max-width: 85%;
            }
        }
    </style>
</head>
<body>
    <div class="chat-container">
        <div class="chat-header">
            <h1>
                <span>ðŸ¤–</span>
                DeepSeek AI Chat
            </h1>
            <div class="status">
                <div class="status-dot"></div>
                <span id="statusText">Ready</span>
            </div>
        </div>

        <div class="messages" id="messages">
            <div class="message assistant">
                <div class="avatar">AI</div>
                <div class="message-content">
                    Hello! I'm DeepSeek AI. I'm currently running in demo mode with simulated responses.
                    Ask me anything and I'll demonstrate how the chat interface works!
                </div>
            </div>
        </div>

        <div class="input-area">
            <input
                type="text"
                id="userInput"
                placeholder="Type your message here..."
                autocomplete="off"
            >
            <button id="sendBtn">Send</button>
        </div>
    </div>

    <script>
        // Chat Application State Management
        class ChatState {
            constructor() {
                this.messages = [];
                this.isTyping = false;
                this.conversationHistory = [];
            }

            addMessage(role, content) {
                this.messages.push({ role, content, timestamp: new Date() });
                this.conversationHistory.push({ role, content });
            }

            setTyping(isTyping) {
                this.isTyping = isTyping;
            }
        }

        // Initialize state
        const chatState = new ChatState();
        const messagesContainer = document.getElementById('messages');
        const userInput = document.getElementById('userInput');
        const sendBtn = document.getElementById('sendBtn');
        const statusText = document.getElementById('statusText');

        // Simulated DeepSeek API responses (in a real app, this would call the actual API)
        const simulatedResponses = [
            "That's an interesting question! In a production environment, I would connect to the DeepSeek API to provide intelligent responses.",
            "I'm demonstrating state management and error handling. The actual implementation would include API integration with proper authentication.",
            "This demo shows how to build a responsive chat interface with smooth animations and proper message threading.",
            "In the real version, I would process your query using advanced AI models and provide contextual responses based on our conversation history.",
            "Great question! This implementation includes proper state management, error handling, and a clean REST API structure for production use."
        ];

        // Render a message
        function renderMessage(role, content) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${role}`;

            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = role === 'user' ? 'U' : 'AI';

            const messageContent = document.createElement('div');
            messageContent.className = 'message-content';
            messageContent.textContent = content;

            messageDiv.appendChild(avatar);
            messageDiv.appendChild(messageContent);
            messagesContainer.appendChild(messageDiv);

            // Scroll to bottom
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Show typing indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.className = 'message assistant';
            typingDiv.id = 'typing-indicator';

            const avatar = document.createElement('div');
            avatar.className = 'avatar';
            avatar.textContent = 'AI';

            const typingContent = document.createElement('div');
            typingContent.className = 'message-content typing-indicator';
            typingContent.innerHTML = '<span></span><span></span><span></span>';

            typingDiv.appendChild(avatar);
            typingDiv.appendChild(typingContent);
            messagesContainer.appendChild(typingDiv);
            messagesContainer.scrollTop = messagesContainer.scrollHeight;
        }

        // Remove typing indicator
        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }

        // Simulate API call with error handling
        async function callDeepSeekAPI(message) {
            try {
                statusText.textContent = 'Thinking...';

                // Simulate network delay
                await new Promise(resolve => setTimeout(resolve, 1000 + Math.random() * 1000));

                // Simulate occasional errors for demo purposes
                if (Math.random() < 0.1) {
                    throw new Error('Network error: Unable to reach DeepSeek API');
                }

                // Get random response
                const response = simulatedResponses[Math.floor(Math.random() * simulatedResponses.length)];

                statusText.textContent = 'Ready';
                return { success: true, data: response };

            } catch (error) {
                statusText.textContent = 'Error';
                return { success: false, error: error.message };
            }
        }

        // Handle send message
        async function sendMessage() {
            const message = userInput.value.trim();

            if (!message || chatState.isTyping) return;

            // Add user message to state and UI
            chatState.addMessage('user', message);
            renderMessage('user', message);
            userInput.value = '';

            // Show typing indicator
            chatState.setTyping(true);
            sendBtn.disabled = true;
            showTypingIndicator();

            // Call API (simulated)
            const response = await callDeepSeekAPI(message);

            // Remove typing indicator
            removeTypingIndicator();
            chatState.setTyping(false);
            sendBtn.disabled = false;

            // Handle response
            if (response.success) {
                chatState.addMessage('assistant', response.data);
                renderMessage('assistant', response.data);
            } else {
                // Show error message
                const errorDiv = document.createElement('div');
                errorDiv.className = 'error-message';
                errorDiv.textContent = `Error: ${response.error}`;
                messagesContainer.appendChild(errorDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;

                // Auto-remove error after 5 seconds
                setTimeout(() => errorDiv.remove(), 5000);
            }
        }

        // Event listeners
        sendBtn.addEventListener('click', sendMessage);
        userInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Log initial state
        console.log('DeepSeek Chat Demo initialized');
        console.log('State management:', chatState);
    </script>
</body>
</html>